{%- extends "base.html" %}

{% block titleex -%} 精靈資料 ({{ profile.name_zh }}) {%- endblock %}

{% block content %}
<div class="container">
    <div class="row">
        <div class="col-xs-4 set-center">
            <div class="profile-icon-wrapper">
                <img class="profile-icon" src="/static/Icon/{{ profile.id }}.png">
            </div>
        </div>
        <div class="col-xs-8 set-center">
            <span class="h1-nbs">#{{ profile.id }} {{ profile.name_zh }}</span><span class="h3-nbs"> (英: {{ profile.name_en }}、日: {{ profile.name_jp }})</span>
            <div class="row">
                <div class="col-xs-8">
                    <div class="panel panel-default">
                        <div class="panel-heading">屬性</div>
                        <div class="panel-body">
                            <div class="row">
                                {% for elem in profile.elements %}
                                <div class="col-xs-{{ (12 / profile.elements|length)|int }} poke-{{ elem.name.lower() }}" style="color: white;">
                                    <div class="poke-div h3-nbs">{{ elem|string() }}</div>
                                </div>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-xs-4">
                    <img class="type-icon" src="/static/BattleType/N{{ profile.battle_type|int }}.png" />
                </div>
            </div>
        </div>
    </div>
    <hr />

    {% if profile.evolve_infos|length > 0 %}
    <div class="row set-center">
        <p class="h3-nbs">進化型態</p>
        {% for evolve_info in profile.evolve_infos %}
        <p>{{ evolve_info.require_lv }}級時進化</p>
        <a href="{{ url_for(".pokemon_profile_result", id=evolve_info.next_id) }}">
            <img class="evolve-icon" src="/static/Icon/{{ evolve_info.next_id }}.png" />
        </a>
        {% endfor %}
        <hr />
    </div>
    {% endif %}
    <div class="row">
        <div class="col-md-12 set-center">
            <p class="h3-nbs">技能</p>
            <div class="table-responsive">
                <table class="table table-hover">
                    <thead>
                        <tr>
                            <th class="set-center">圖標</th>
                            <th class="set-center">屬性</th>
                            <th class="set-center">技能名稱</th>
                            <th class="set-center">威力</th>
                            <th class="set-center">CD</th>
                            <th class="set-center">石槽</th>
                            <th class="set-center">說明</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for skill in profile.skills %}
                        <tr>
                            <td><img class="skill-icon" src="/static/Skill/{{ skill.icon }}.png" /></td>
                            <td>{{ skill.element|string() }}</td>
                            <td>{{ skill.name_zh }}</td>
                            <td>{{ skill.power }}</td>
                            <td>{{ skill.cd }}</td>
                            <td>
                                {% for sstone in skill.slots %}
                                <img class="skill-icon" src="/static/SStone/{{ sstone|int }}.png" />
                                {% endfor %}
                            </td>
                            <td class="description">{{ skill.description }}</td>
                        </tr>
                        {% endfor %}
                        {% if profile.skills_dlc|length > 0 %}
                        <tr>
                            <td colspan="6" class="set-center">DLC技能</td>
                        </tr>
                        {% for skill in profile.skills_dlc %}
                        <tr>
                            <td><img class="skill-icon" src="/static/Skill/{{ skill.icon }}.png" /></td>
                            <td class="profile-text-skill">{{ skill.element|string() }}</td>
                            <td class="profile-text-skill">{{ skill.name_zh }}</td>
                            <td class="profile-text-skill">{{ skill.power }}</td>
                            <td class="profile-text-skill">{{ skill.cd }}</td>
                            <td>
                                {% for sstone in skill.slots %}
                                <img class="skill-icon" src="/static/SStone/{{ sstone|int }}.png" />
                                {% endfor %}
                            </td>
                        </tr>
                        {% endfor %}
                        {% endif %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-md-12 set-center">
            <p><span class="h3-nbs">賓果</span> 請注意，進化後賓果可能會變化。</p>

            {% for i in range(1, 4) %}
            <div class="panel panel-default">
                <div class="panel-heading">第{{ i }}條</div>
                <div class="panel-body">
                    <div class="row">
                        {% for bingo_comp in profile.get_bingos(i) %}
                        <div class="col-xs-4">
                            desc
                            <div class="list-group">
                                {% for id, bingo in bingo_comp %}
                                <a class="list-group-item list-group-action" href="{{ url_for(".pokemon_profile_result", id=id) }}"><img class="bingo-icon" src="/static/Icon/{{ id }}.png" />&nbsp;{{ bingo }}</a>
                                {% endfor %}
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</div>
{%- endblock %}